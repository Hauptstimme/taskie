%h2
  = @task.name
  %small
    = @task.created_at.to_s(:long)

%p= check_box_with_status_for @task

%p
  Assigned to:
  - if @task.assignee.present?
    = gravatar_for(@task.assignee) + @task.assignee.email
  - else
    nobody

- if @task.dependencies.any?
  %p Depends on:
  %ul
    - @task.dependencies.each do |dep|
      %li= link_to dep.name, dep, style: ("text-decoration: line-through; color: gray" if dep.completed?)

- if @task.details.present?
  .well= @task.details

= link_to "Edit", edit_task_path(@task), class: "btn btn-primary"
= link_to "Delete", task_path(@task), class: "btn btn-danger", data: { method: :delete, confirm: "Have you been taking your medication lately?" }

= javascript_include_tag "taskie.async.checkbox"
